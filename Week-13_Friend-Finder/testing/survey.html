<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>FriendFinder</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <!-- Font Awesome Glyphicons -->
    <link rel="stylesheet" href="assets/css/font-awesome.css">
    <!-- Chosen -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
    <!--custom
	<link href="/assets/css/style.css" type="text/css">-->
    <link href="assets/css/style.css" rel="stylesheet">
</head>

<body>
    <div class="container">
        <h2>Survey Questions</h2>
        <hr>
        <div class="row"></div>
        <h3><strong>About You</strong></h3>
        <div class="col-md-6 col-sm-12 col-xs-12">
            <h4>Name (Required)</h4>
            <input type="text" name="" id="name" class="form-control" required>
        </div>
        <div class="col-md-6 col-sm-12 col-xs-12">
            <h4>Link to Photo Image (Required)</h4>
            <input type="text" name="" id="photo" class="form-control" required>
        </div>
    </div>
    <hr>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-12 col-xs-12">
                <h3>1:</h3>
                <h4>Please don't talk to me in the morning before I've had coffee.</h4>
                <img class="qimage" src="http://akns-images.eonline.com/eol_images/Entire_Site/201595/rs_500x278-151005100148-rs_500x278-150608103958-giphy_2.gif">
                <div class="row">
						<div id="radios" id="q1">
							<div class="col-sm-2 col-sm-offset-1">
								<div class="checkboxgroup">
									<label for="q1-1"><img class="kitties madKitty" /></label>
									<input type="radio" name="group1" value="1" id="q211">
								</div>
							</div>
							<div class="col-sm-2">
								<div class="checkboxgroup">
									<label for="q1-2"><img class="kitties sadKitty" /></label>
									<input type="radio" name="group1" value="2" id="q1-2">
								</div>
							</div>
							<div class="col-sm-2">
								<div class="checkboxgroup">
									<label for="q1-3"><img class="kitties mehKitty" /></label>
									<input type="radio" name="group1" value="3" id="q1-3">
								</div>
							</div>
							<div class="col-sm-2">
								<div class="checkboxgroup">
									<label for="q1-4"><img class="kitties happyKitty" /></label>
									<input type="radio" name="group1" value="4" id="q1-4">
								</div>
							</div>
							<div class="col-sm-2">
								<div class="checkboxgroup">
									<label for="q1-5"><img class="kitties loveKitty" /></label>
									<input type="radio" name="group1" value="5" id="q1-5">
								</div>
							</div>
						</div>
						<!-- end radios-->
					</div>
					<!-- end emoji row -->
            </div>
            <!-- end col-->
            <div class="col-md-6 col-sm-12 col-xs-12">
                <h3>2:</h3>
                <h4>Animals are cuter than people.</h4>
                <img class="qimage" src="https://media0.giphy.com/media/eO1JleYiCYbDy/giphy.gif">
                <div class="row">
                    <div id="radios" id="q2">
                        <div class="col-sm-2 col-sm-offset-1">
                            <div class="checkboxgroup">
                                <label for="q2-1"><img class="kitties madKitty" /></label>
                                <input type="radio" name="group1" value="1" id="q2-1">
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="checkboxgroup">
                                <label for="q2-2"><img class="kitties sadKitty" /></label>
                                <input type="radio" name="group1" value="2" id="q2-2">
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="checkboxgroup">
                                <label for="q2-3"><img class="kitties mehKitty" /></label>
                                <input type="radio" name="group1" value="3" id="q2-3">
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="checkboxgroup">
                                <label for="q2-4"><img class="kitties happyKitty" /></label>
                                <input type="radio" name="group1" value="4" id="q2-4">
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="checkboxgroup">
                                <label for="q2-5"><img class="kitties loveKitty" /></label>
                                <input type="radio" name="group1" value="5" id="q2-5">
                            </div>
                        </div>
                    </div>
                    <!-- end radios-->
                </div>
                <!-- end emoji row -->
            </div>
            <!-- end col-->
        </div>
		<!-- end row-->
		<br>
        <div class="row">
            <div class="col-md-6 col-sm-12 col-xs-12">
                <h3>3:</h3>
                <h4>Most of my friends share my political views.</h4>
                <img class="qimage" src="https://s-media-cache-ak0.pinimg.com/originals/9c/a3/e8/9ca3e8fe8e82cb1f6ba19662e2038587.gif">
                <div class="row">
						<div id="radios" id="q3">
							<div class="col-sm-2 col-sm-offset-1">
								<div class="checkboxgroup">
									<label for="q3-1"><img class="kitties madKitty" /></label>
									<input type="radio" name="group1" value="1" id="q3-1">
								</div>
							</div>
							<div class="col-sm-2">
								<div class="checkboxgroup">
									<label for="q3-2"><img class="kitties sadKitty" /></label>
									<input type="radio" name="group1" value="2" id="q3-2">
								</div>
							</div>
							<div class="col-sm-2">
								<div class="checkboxgroup">
									<label for="q3-3"><img class="kitties mehKitty" /></label>
									<input type="radio" name="group1" value="3" id="q3-3">
								</div>
							</div>
							<div class="col-sm-2">
								<div class="checkboxgroup">
									<label for="q3-4"><img class="kitties happyKitty" /></label>
									<input type="radio" name="group1" value="4" id="q3-4">
								</div>
							</div>
							<div class="col-sm-2">
								<div class="checkboxgroup">
									<label for="q3-5"><img class="kitties loveKitty" /></label>
									<input type="radio" name="group1" value="5" id="q3-5">
								</div>
							</div>
						</div>
						<!-- end radios-->
					</div>
					<!-- end emoji row -->
            </div>
			<!-- end col-->
			<div class="col-md-6 col-sm-12 col-xs-12">
					<h3>4:</h3>
					<h4>Cheese is amazing.</h4>
					<img class="qimage" src="https://giant.gfycat.com/LankyWarpedBirdofparadise.gif">
					<div class="row">
							<div id="radios" id="q4">
								<div class="col-sm-2 col-sm-offset-1">
									<div class="checkboxgroup">
										<label for="q4-1"><img class="kitties madKitty" /></label>
										<input type="radio" name="group1" value="1" id="q4-1">
									</div>
								</div>
								<div class="col-sm-2">
									<div class="checkboxgroup">
										<label for="q4-2"><img class="kitties sadKitty" /></label>
										<input type="radio" name="group1" value="2" id="q4-2">
									</div>
								</div>
								<div class="col-sm-2">
									<div class="checkboxgroup">
										<label for="q4-3"><img class="kitties mehKitty" /></label>
										<input type="radio" name="group1" value="3" id="q4-3">
									</div>
								</div>
								<div class="col-sm-2">
									<div class="checkboxgroup">
										<label for="q4-4"><img class="kitties happyKitty" /></label>
										<input type="radio" name="group1" value="4" id="q4-4">
									</div>
								</div>
								<div class="col-sm-2">
									<div class="checkboxgroup">
										<label for="q4-5"><img class="kitties loveKitty" /></label>
										<input type="radio" name="group1" value="5" id="q4-5">
									</div>
								</div>
							</div>
							<!-- end radios-->
						</div>
						<!-- end emoji row -->
				</div>
				<!-- end col-->
        </div>
		<!-- end row-->
		<br>
		<div class="row">
				<div class="col-md-6 col-sm-12 col-xs-12">
					<h3>5:</h3>
					<h4>You self-identify as a nerd.</h4>
					<img class="qimage" src="https://media.giphy.com/media/ulAEyQcckMDSg/giphy.gif">
					<div class="row">
							<div id="radios" id="q5">
								<div class="col-sm-2 col-sm-offset-1">
									<div class="checkboxgroup">
										<label for="q5-1"><img class="kitties madKitty" /></label>
										<input type="radio" name="group1" value="1" id="q5-1">
									</div>
								</div>
								<div class="col-sm-2">
									<div class="checkboxgroup">
										<label for="q5-2"><img class="kitties sadKitty" /></label>
										<input type="radio" name="group1" value="2" id="q5-2">
									</div>
								</div>
								<div class="col-sm-2">
									<div class="checkboxgroup">
										<label for="q5-3"><img class="kitties mehKitty" /></label>
										<input type="radio" name="group1" value="3" id="q5-3">
									</div>
								</div>
								<div class="col-sm-2">
									<div class="checkboxgroup">
										<label for="q5-4"><img class="kitties happyKitty" /></label>
										<input type="radio" name="group1" value="4" id="q5-4">
									</div>
								</div>
								<div class="col-sm-2">
									<div class="checkboxgroup">
										<label for="q5-5"><img class="kitties loveKitty" /></label>
										<input type="radio" name="group1" value="5" id="q5-5">
									</div>
								</div>
							</div>
							<!-- end radios-->
						</div>
						<!-- end emoji row -->
				</div>
				<!-- end col-->
				<div class="col-md-6 col-sm-12 col-xs-12">
						<h3>6:</h3>
						<h4>Mean Girls was one of the best movies ever made.</h4>
						<img class="qimage" src="https://media.giphy.com/media/l0IukNXgBnxRXVjYA/giphy.gif">
						<div class="row">
								<div id="radios" id="q6">
									<div class="col-sm-2 col-sm-offset-1">
										<div class="checkboxgroup">
											<label for="q6-1"><img class="kitties madKitty" /></label>
											<input type="radio" name="group1" value="1" id="q6-1">
										</div>
									</div>
									<div class="col-sm-2">
										<div class="checkboxgroup">
											<label for="q6-2"><img class="kitties sadKitty" /></label>
											<input type="radio" name="group1" value="2" id="q6-2">
										</div>
									</div>
									<div class="col-sm-2">
										<div class="checkboxgroup">
											<label for="q6-3"><img class="kitties mehKitty" /></label>
											<input type="radio" name="group1" value="3" id="q6-3">
										</div>
									</div>
									<div class="col-sm-2">
										<div class="checkboxgroup">
											<label for="q6-4"><img class="kitties happyKitty" /></label>
											<input type="radio" name="group1" value="4" id="q6-4">
										</div>
									</div>
									<div class="col-sm-2">
										<div class="checkboxgroup">
											<label for="q6-5"><img class="kitties loveKitty" /></label>
											<input type="radio" name="group1" value="5" id="q6-5">
										</div>
									</div>
								</div>
								<!-- end radios-->
							</div>
							<!-- end emoji row -->
					</div>
					<!-- end col-->
			</div>
			<!-- end row-->
    </div>
	<!--end container-->
	<br>
	<!-- Submit Button -->
	<div class="row">
	<div class="col-md-offset-5 col-md-2">
    <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i> Submit
	</button>
	</div>
	<hr>
	<br>
	<div class="col-md-offset-5 col-md-3">
   
            <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/afhaque/friendfinder">GitHub Repo</a></p>
        
	</div>
    </div></div>
    <script type="text/javascript">
    var findFriends = {
        init: function() {
            findFriends.handleClicks();
        },
        handleClicks: function() {
            $("#submit").on("click", function(e) {
                e.preventDefault();
                console.log("clicked");
                // Here we grab the form elements
                var newFriend = {
                    friend_name: $("#name").val().trim(),
                    friend_photo_url: $("#photo").val().trim(),
                    q1: $("#q1").val().trim(),
                    q2: $("#q2").val().trim(),
                    q3: $("#q1").val().trim(),
                    q4: $("#q2").val().trim(),
                    q5: $("#q1").val().trim(),
                    q6: $("#q2").val().trim(),
                    q7: $("#q1").val().trim(),
                    q8: $("#q2").val().trim(),
                    q9: $("#q1").val().trim(),
                    q10: $("#q2").val().trim()
                };
                console.log(newFriend);
                //call function to post data
                findFriends.postData(newFriend);
                //call function to clear fields
                findFriends.clearFields();
            });
        },
        postData: function(newFriend) {
            $.post("/api/friends", newFriend,
                function(data) {
                    console.log("data has posted");
                });
            findFriends.analyzeData(newFriend);
        },
        clearFields: function() {
            // Clear the form when submitting
            $("#name").val("");
            $("#photo").val("");
            $("#q1").val("");
            $("#q2").val("");
            $("#q1").val("");
            $("#q2").val("");
            $("#q1").val("");
            $("#q2").val("");
            $("#q1").val("");
            $("#q2").val("");
            $("#q1").val("");
            $("#q2").val("");
        },
        analyzeData: function() {
            //answers from person filling out survey
            var currentFriend = [2, 4, 5, 1, 4, 3, 2, 1, 3, 4];
            //existing answers in db
            var existingFriends = [
                [1, 2, 3, 4, 5, 5, 4, 3, 2, 1],
                [1, 1, 2, 2, 3, 3, 4, 4, 5, 5],
                [5, 5, 4, 4, 3, 3, 2, 2, 1, 1],
                [5, 4, 3, 2, 1, 1, 2, 3, 4, 5],
                [5, 5, 4, 4, 3, 3, 2, 2, 1, 1],
                [1, 5, 2, 5, 4, 3, 2, 1, 4, 3]
            ];
            var diffArr = [];
            var currentDif = 0;
            //traverse all friends
            for (i = 0; i < existingFriends.length; i++) {
                //traverse one friend at a time and compare to current
                for (j = 0; j < existingFriends[i].length; j++) {
                    var x = Math.abs(currentFriend[j] - existingFriends[i][j]);
                    currentDif += x;
                    if (j === 9) {
                        diffArr.push(currentDif);
                        currentDif = 0;
                    } //close if
                } //close for j

            } // close for i
            //find lowest difference in array and grab index for id match			
            var bFF = diffArr.indexOf(Math.min(...diffArr))
            console.log(bFF);


        } //close analyze data
    }
    findFriends.analyzeData();
    </script>
</body>

</html>