
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>FriendFinder</title>

	<!-- Latest compiled and minified CSS & JS -->
	<link rel="stylesheet" href="assets/css/bootstrap.min.css" >
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="assets/js/bootstrap.min.js"></script>

	<!-- Font Awesome Glyphicons -->
	<link rel="stylesheet" href="assets/css/font-awesome.css">

	<!-- Chosen -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

	<!--custom
	<link href="/assets/css/style.css" type="text/css">-->
	<link href="assets/css/style.css" rel="stylesheet">

</head>
<body>

	<div class="container">

		<h2>Survey Questions</h2>
		<hr>

		<h3><strong>About You</strong></h3>
		<h4>Name (Required)</h4>
		<input type="text" name="" id="name" class="form-control" required >

		<h4>Link to Photo Image (Required)</h4>
		<input type="text" name="" id="photo" class="form-control" required >

		<hr>
	</div>
	<div class="container">
		<div class = "row">
			<div class = "col-md-6 col-sm-12 col-xs-12">
		    	<h3>Question 1:</h3>
		        <h4>Please don't talk to me in the morning before I've had coffee.</h4>
		  		<div id="radios" id="q1">

					<label for="input1"><img class ="kitties madKitty"/></label>
					<label for="input2"><img class ="kitties sadKitty"/></label>
					<label for="input3"><img class ="kitties mehKitty"/></label>
					<label for="input4"><img class ="kitties happyKitty"/></label>
					<label for="input5"><img class ="kitties loveKitty"/></label>
					<br>
					<input  id="input1" value="1" name="radio" type="radio" class="customRadio"/>
					<input  id="input2" value="2" name="radio" type="radio" class="customRadio"/>
					<input  id="input3" value="3" name="radio" type="radio" class="customRadio"/>
					<input  id="input4" value="4" name="radio" type="radio" class="customRadio"/>
					<input  id="input5" value="5" name="radio" type="radio" class="customRadio"/>
			
		  		</div> <!-- end radios-->
			</div><!-- end col-->

			<div class = "col-md-6 col-sm-12 col-xs-12">
					<h3>Question 2:</h3>
					<h4>Animals are cuter than people.</h4>
					  <div id="radios" id="q2">
	
						<label for="input6"><img class ="kitties madKitty"/></label>
						<label for="input7"><img class ="kitties sadKitty"/></label>
						<label for="input8"><img class ="kitties mehKitty"/></label>
						<label for="input9"><img class ="kitties happyKitty"/></label>
						<label for="input10"><img class ="kitties loveKitty"/></label>
						<br>
						<input  id="input6" value="1" name="radio" type="radio" class="customRadio"/>
						<input  id="input7" value="2" name="radio" type="radio" class="customRadio"/>
						<input  id="input8" value="3" name="radio" type="radio" class="customRadio"/>
						<input  id="input9" value="4" name="radio" type="radio" class="customRadio"/>
						<input  id="input10" value="5" name="radio" type="radio" class="customRadio"/>
				
					  </div> <!-- end radios-->
				</div><!-- end col-->

		</div><!-- end row-->

		<div class = "row">
				<div class = "col-md-6 col-sm-12 col-xs-12">
					<h3>Question 3:</h3>
					<h4>Please don't talk to me in the morning before I've had coffee.</h4>
					  <div id="radios" id="q1">
	
						<label for="input11"><img class ="kitties madKitty"/></label>
						<label for="input12"><img class ="kitties sadKitty"/></label>
						<label for="input13"><img class ="kitties mehKitty"/></label>
						<label for="input14"><img class ="kitties happyKitty"/></label>
						<label for="input15"><img class ="kitties loveKitty"/></label>
						<br>
						<input  id="input11" value="1" name="radio" type="radio" class="customRadio"/>
						<input  id="input12" value="2" name="radio" type="radio" class="customRadio"/>
						<input  id="input13" value="3" name="radio" type="radio" class="customRadio"/>
						<input  id="input14" value="4" name="radio" type="radio" class="customRadio"/>
						<input  id="input15" value="5" name="radio" type="radio" class="customRadio"/>
				
					  </div> <!-- end radios-->
				</div><!-- end col-->
	
				<div class = "col-md-6 col-sm-12 col-xs-12">
						<h3>Question 4:</h3>
						<h4>Animals are cuter than people.</h4>
						  <div id="radios" id="q2">
		
							<label for="input16"><img class ="kitties madKitty"/></label>
							<label for="input17"><img class ="kitties sadKitty"/></label>
							<label for="input18"><img class ="kitties mehKitty"/></label>
							<label for="input19"><img class ="kitties happyKitty"/></label>
							<label for="input20"><img class ="kitties loveKitty"/></label>
							<br>
							<input  id="input16" value="1" name="radio" type="radio" class="customRadio"/>
							<input  id="input17" value="2" name="radio" type="radio" class="customRadio"/>
							<input  id="input18" value="3" name="radio" type="radio" class="customRadio"/>
							<input  id="input19" value="4" name="radio" type="radio" class="customRadio"/>
							<input  id="input20" value="5" name="radio" type="radio" class="customRadio"/>
					
						  </div> <!-- end radios-->
					</div><!-- end col-->
	
			</div><!-- end row-->

		
	</div><!--end container-->

		<!-- Submit Button -->
		<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>
 Submit</button>

		<hr>		

	    <footer class="footer">
	      <div class="container">
		        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/afhaque/friendfinder">GitHub Repo</a></p>
	      </div>
	    </footer>

	</div>

  	<script type="text/javascript">

		var findFriends = {
			init: function() {
				findFriends.handleClicks();
			},
			handleClicks: function() {
				$("#submit").on("click", function(e) {
					e.preventDefault();
					console.log("clicked");
					// Here we grab the form elements
					var newFriend = {
						friend_name: $("#name").val().trim(),
						friend_photo_url: $("#photo").val().trim(),
						q1: $("#q1").val().trim(),
						q2: $("#q2").val().trim(),
						q3: $("#q1").val().trim(),
						q4: $("#q2").val().trim(),
						q5: $("#q1").val().trim(),
						q6: $("#q2").val().trim(),
						q7: $("#q1").val().trim(),
						q8: $("#q2").val().trim(),
						q9: $("#q1").val().trim(),
						q10: $("#q2").val().trim()
					};
					console.log(newFriend);
					//call function to post data
					findFriends.postData(newFriend);
					//call function to clear fields
					findFriends.clearFields();
				});
			},
			postData: function(newFriend) {
				$.post("/api/friends", newFriend,
					function(data) {
						console.log("data has posted");
				});
				findFriends.analyzeData(newFriend);
			},
			clearFields: function() {
				// Clear the form when submitting
				$("#name").val("");
				$("#photo").val("");
				$("#q1").val("");
				$("#q2").val("");
				$("#q1").val("");
				$("#q2").val("");
				$("#q1").val("");
				$("#q2").val("");
				$("#q1").val("");
				$("#q2").val("");
				$("#q1").val("");					
				$("#q2").val("");
			},
			analyzeData: function(){
				//answers from person filling out survey
				var currentFriend = [2,4,5,1,4,3,2,1,3,4];
				//existing answers in db
				var existingFriends = [
					[1,2,3,4,5,5,4,3,2,1],
					[1,1,2,2,3,3,4,4,5,5],
					[5,5,4,4,3,3,2,2,1,1],
					[5,4,3,2,1,1,2,3,4,5],
					[5,5,4,4,3,3,2,2,1,1],
					[1,5,2,5,4,3,2,1,4,3]
				];
				var diffArr = [];
				var currentDif = 0;
				//traverse all friends
				for (i=0;i<existingFriends.length;i++){
					//traverse one friend at a time and compare to current
					for (j=0;j<existingFriends[i].length;j++){
						var x = Math.abs(currentFriend[j] - existingFriends[i][j]);
						currentDif += x;
						if (j === 9) {
							diffArr.push(currentDif);
							currentDif = 0;
						} //close if
					}//close for j
					
				} // close for i
				//find lowest difference in array and grab index for id match			
				var bFF = diffArr.indexOf(Math.min(...diffArr))
				console.log(bFF);
				

			}//close analyze data
		}
	findFriends.analyzeData();	
	</script>

</body>
</html>